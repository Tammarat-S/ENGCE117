#include <stdio.h>
#include <string.h>

#define length 10
#define word 20

int MEGAMAIN() ;
void explode( char str1[] , char split , char[][length] , int *count ) ;


int main () {

    MEGAMAIN() ;
}

void explode( char str1[] , char split , char str2[][length] , int *count ) {
    int S = strlen(str1) ;
    int col = 0 ;
    int row = 0 ;
    
    for ( int i = 0 ; i < S ; i ++ ) {
        //----|ป้องกันคำมากเกินขนาดอาเรย์
        if( row >= word ) {
            break ;
        }
        //---|ตรวจสอบว่าเป็นตัวคั่นหรือไม่
        if ( str1[i] == split ) {
            str2[row][col] = '\0' ;     
            row ++ ;
            col = 0 ;
        }else {
            //----|เช็คว่าพื้นที่ยังเหลืออยู๋หรือไม่
            if( col < length -1 ) {
                str2[row][col] = str1[i] ;
                col++ ;
            }
        }
    }
    str2[row][col] = '\0' ;
    *count = row + 1 ; 
}

int MEGAMAIN() {
    char out [ word ][ length ] ;
    int number ;
    char Input [15] = {"I/Love/you"} ;
    explode( Input , '/' , out , &number ) ;
    //---|แสดงผลลัพธ์
    for ( int i = 0 ; i < number ; i ++ ) {
        printf("str[%d] = %s \n" , i , out[i] ) ;
    }
    //---|แสดงจำนวนคำที่แยกได้
    printf( "count = %d" , number ) ;
    return 0 ;
}
